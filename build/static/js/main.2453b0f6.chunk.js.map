{"version":3,"sources":["Filters.js","App.js","index.js"],"names":["Filters","accounts","id","value","map","account","index","account_id","accountname","type","placeholder","defaultValue","adddays","currentdate","Date","setDate","getDate","toJSON","slice","replace","apiBaseURL","App","useAuth0","loginWithRedirect","isAuthenticated","user","isLoading","useState","transactions","setTransactions","totalamount","setTotalAmount","setAccounts","useEffect","console","log","viewTransactions","a","cattype","document","getElementById","catname","note","sortdate","sortamount","accid","startdate","enddate","url","axios","get","encodeURI","then","response","transactions_data","data","total","i","length","amount","catch","error","alert","addTransaction","transactiondate","categorytype","categoryname","fromacc","toacc","post","className","onClick","style","textAlign","parseFloat","balance","toFixed","backgroundColor","transaction","date","rootElement","ReactDOM","render","domain","clientId","redirectUri","window","location","origin"],"mappings":"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","file":"static/js/main.2453b0f6.chunk.js","sourcesContent":["export default function Filters ({accounts}) {\n\n  function getDate(adddays){\n    let currentdate = new Date();\n    if(adddays){\n      currentdate.setDate(currentdate.getDate() + adddays);\n    }\n\n    return currentdate.toJSON().slice(0,10).replace(/-/g,'-');\n  }\n\n  return (\n    <p>\n\n      <select id=\"filter_cattype\">\n        <option value=\"\">All categories</option>\n        <option>Expense</option>\n        <option>Income</option>\n        <option>Transfer</option>\n      </select>\n\n      <select id=\"filter_accid\">\n        <option value=\"\">All Accounts</option>\n        {\n          accounts.map((account,index) => \n            <option key={index} value={account.account_id}>{account.accountname}</option>\n          )\n        }\n      </select>\n\n      <input id=\"filter_catname\" type=\"text\" placeholder=\"Category Name\" />\n      <input id=\"filter_note\"  type=\"text\" placeholder=\"Note\" />\n    \n      <select id=\"filter_sortdate\">\n        <option value=\"0\">Sort By Date</option>\n        <option value=\"-1\">Date DESC</option>\n        <option value=\"1\">Date ASC</option>\n      </select>\n      <select id=\"filter_sortamount\">\n        <option value=\"0\">Sort By Amount</option>\n        <option value=\"-1\">Amount DESC</option>\n        <option value=\"1\">Amount ASC</option>\n      </select>\n\n     <p>\n     Start Date: <input type=\"date\" id=\"filter_startdate\" defaultValue={\"2020-01-01\"} /> \n     <br />\n     End Date: <input type=\"date\" id=\"filter_enddate\" defaultValue={getDate()} />\n     </p>\n    </p>\n\n  )\n}","import \"./styles.css\";\nimport {useEffect,useState} from \"react\";\nimport axios from \"axios\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nimport Filters from \"./Filters\";\n\nconst apiBaseURL = \"http://localhost:3000\";\n\nexport default function App() {\n\n  const { loginWithRedirect,user, isAuthenticated, isLoading } = useAuth0();\n\n  const [transactions,setTransactions] = useState([]);\n  const [totalamount,setTotalAmount] = useState(0.0);\n  const [accounts,setAccounts] = useState([]);\n\n  useEffect(()=>{\n    \n    if(isAuthenticated){\n      console.log(\"init data loaded\");\n      viewTransactions();\n    }\n     \n  },[]);\n\n  const viewTransactions = async() => {\n    let cattype = document.getElementById(\"filter_cattype\").value ?? \"\";\n    let catname = document.getElementById(\"filter_catname\").value ?? \"\";\n    let note = document.getElementById(\"filter_note\").value ?? \"\";\n    let sortdate = document.getElementById(\"filter_sortdate\").value ?? \"\";\n    let sortamount = document.getElementById(\"filter_sortamount\").value ?? \"\";\n    let accid = document.getElementById(\"filter_accid\").value ?? -1;\n    let startdate = document.getElementById(\"filter_startdate\").value;\n    let enddate = document.getElementById(\"filter_enddate\").value;\n\n    let url = `${apiBaseURL}/transactions?cattype=${cattype}&catname=${catname}&note=${note}\n    &sortdate=${sortdate}&sortamount=${sortamount}&accid=${accid}&startdate=${startdate}&enddate=${enddate}`;\n    axios.get(encodeURI(url))\n    .then(response => {\n      const transactions_data = response.data;\n      setTransactions(transactions_data);\n      let total = 0;\n      for(let i = 0;i < transactions_data.length;i++){\n        total += transactions_data[i].amount;\n      }\n      setTotalAmount(total);\n    });\n\n    axios.get(apiBaseURL + \"/accounts/\")\n    .then(response => {\n      setAccounts(response.data);\n    })\n    .catch(error => {\n      alert(\"Error:\" + error);\n    });\n  }\n\n  const addTransaction = async () =>{\n    let data = {};\n    data.transactiondate = document.getElementById(\"dateval\").value;\n    data.amount = document.getElementById(\"amount\").value;\n    data.categorytype = document.getElementById(\"categorytype\").value;\n    data.categoryname = document.getElementById(\"categoryname\").value;\n    data.note = document.getElementById(\"note\").value;\n    data.fromacc = document.getElementById(\"fromacc\").value;\n    data.toacc = document.getElementById(\"toacc\").value;\n\n    if(!data.transactiondate){\n      alert(\"Transaction date must be present!\");\n      return;\n    }\n    if(data.fromacc === data.toacc){\n      alert(\"From and To A/C cannot be same!\");\n      return;\n    }\n\n    axios.post(apiBaseURL + \"/transaction/add\",data)\n    .then(response => {\n      alert(\"Transaction Added!\");\n      viewTransactions();\n    })\n    .catch(error => {\n      alert(\"Error:\" + error);\n    });\n    \n  }\n\n\n\n  // Main View\n  return (\n    <div className=\"App\">\n      <h1>Expense Manager</h1>\n      {!isAuthenticated && <button onClick={() => loginWithRedirect()}>Log In</button>}\n      {\n        isAuthenticated && \n        (\n          <>\n            <div style={{textAlign:\"left\"}}>\n            <h3>Add New Transaction</h3>\n            <p>Date: <input id=\"dateval\" type=\"date\" /></p>\n            <p>Amount: <input id=\"amount\" type=\"text\" /></p>\n            <p>\n              Category Type: \n              <select id=\"categorytype\">\n                <option>Expense</option>\n                <option>Income</option>\n                <option>Transfer</option>\n                <option>Adjustment</option>\n              </select>\n            </p>\n            <p>Category Name: <input id=\"categoryname\" type=\"text\" /></p>\n            <p>Note: <input id=\"note\" type=\"text\" /></p>\n            <p>\n              From A/C: \n              <select id=\"fromacc\">\n                {\n                  accounts.map((account,index) => \n                    <option key={index} value={account.account_id}>{account.accountname}</option>\n                  )\n                }\n                <option value=\"0\">External</option>\n              </select>\n            </p>\n            <p>\n              To A/C:\n              <select id=\"toacc\">\n                {\n                  accounts.map((account,index) => \n                    <option key={index} value={account.account_id}>{account.accountname}</option>\n                  )\n                }\n                <option value=\"0\">External</option>\n              </select>\n            </p>\n            <p><button onClick={addTransaction}>Add</button></p>\n          </div>\n\n\n          <br />\n          <div>\n            <Filters accounts={accounts}/>\n            <p><button onClick={viewTransactions}>Filter</button></p>\n            <p >\n            \n              <h3>Transactions List</h3>\n              <p>\n                {\n                  accounts.map((account,index) => \n                  <p key={index}>\n                    <b>{account.accountname} Balance: </b> ₹{parseFloat(account.balance).toFixed(2)}\n                  </p>\n                  \n                  )\n                }\n\n                \n              </p>\n              <p>\n                <b>Total Amount: </b> ₹{parseFloat(totalamount).toFixed(2)}\n              </p>\n              <table style={{backgroundColor:\"#fffeed\"}}>\n                <thead>\n                  <tr>\n                    <th>Date</th>\n                    <th>Category Type</th>\n                    <th>Category Name</th>\n                    <th>Note</th>\n                    <th>Amount</th>\n                  </tr>\n                </thead>\n                <tbody>\n                    {\n                      transactions.map((transaction,index) => (\n                        <tr>\n                          <td>{transaction.date}</td>\n                          <td style={\n                            transaction.categorytype === \"Expense\" ? {backgroundColor:\"#f5a698\"} : \n                            (transaction.categorytype === \"Transfer\" ? {backgroundColor:\"#e6e9fc\"} : {backgroundColor:\"#b8f2c2\"})\n                            }>{transaction.categorytype}</td>\n                          <td>{transaction.categoryname}</td>\n                          <td>{transaction.note}</td>\n                          <td>₹{transaction.amount}</td>\n                        \n                        </tr>\n                      ))\n                    }\n                </tbody>\n              </table>\n            </p>\n          </div>\n          </>\n        )\n      }\n\n\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\n\nReactDOM.render(\n  <StrictMode>\n    <Auth0Provider\n       domain=\"dev-jpr60ht5.us.auth0.com\"\n       clientId=\"s0OzlM1MElFjdjtNgq8fwVBsD2Ko3jiG\"\n       redirectUri={window.location.origin}\n    >\n      <App />\n    </Auth0Provider>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}